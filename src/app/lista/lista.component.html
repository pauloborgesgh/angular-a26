<div class="lista-container">
    <h1>Lista de Tarefas</h1>
   
    <form class="add-item-form" #addItemForm="ngForm">
        <input [(ngModel)]="newItem"  name="newItem" type="text" placeholder="Adicionar item"/>
        <button type="submit" (click)="addItem()">Adicionar</button>
        <button type="reset" (click)="clearItems()">Limpar Lista</button>

    </form>

<p class="error-message">{{ errorMessage }}</p>
<table>
 <thead>
    <tr>
        <th>#</th>
        <th>Item</th>
        <th>Status</th>
    </tr>
 </thead>
 <tbody>
    
    <td *ngIf="items.length === 0" colspan="4" class="empty-message">Nenhuma item adicionado</td>
    
     <tr *ngFor="let item of items; index as i">
         <td [ngClass]="{'completed': item.completado}">{{ i + 1 }}</td>
         <td [ngClass]="{'completed': item.completado}">
             <span [class.completed]="item.completado">{{ item.nome }}</span>
         </td>
         <td><input type="checkbox" [checked]="item.completado" (change)="toggleItem(i)" /></td>
     </tr>
     
     <!-- @for(item of items; track item.id){
        <tr >
            <td [ngClass]="{'completed': item.completado}">{{ item.id }}</td>
            <td [ngClass]="{'completed': item.completado}">
                <span [class.completed]="item.completado">{{ item.nome }}</span>
            </td>
            <td><input type="checkbox" [checked]="item.completado" (change)="toggleItem(item.id ?? 0)" /></td>
        </tr>} -->
        
    </tbody>

</table>
</div>